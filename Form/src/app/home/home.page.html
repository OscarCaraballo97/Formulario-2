<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Form in Ionic
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form [formGroup]="Form" (ngSubmit)="submit()">
    <ion-list>
      <ion-item>
        <ion-label position="floating">
          Title
          <small class="error-message" *ngIf="Form.get('title')?.invalid && (Form.get('title')?.dirty || Form.get('title')?.touched)">
            <span *ngIf="Form.get('title')?.hasError('required')">Title is required</span>
            <span *ngIf="Form.get('title')?.hasError('minlength')">Title must be at least 3 characters</span>
          </small>
        </ion-label>
        <ion-input formControlName="title" autocapitalize="text"></ion-input>
      </ion-item>
    </ion-list>

    <ion-list>
      <ion-item>
        <ion-label position="floating">
          Description
          <small class="error-message" *ngIf="Form.get('description')?.invalid && (Form.get('description')?.dirty || Form.get('description')?.touched)">
            <span *ngIf="Form.get('description')?.hasError('required')">Description is required</span>
            <span *ngIf="Form.get('description')?.hasError('minlength')">Description must be at least 10 characters</span>
          </small>
        </ion-label>
        <ion-input formControlName="description" inputmode="text"></ion-input>
      </ion-item>
    </ion-list>

    <ion-button [disabled]="!Form.valid" type="submit">
      Done
      <ion-icon slot="end" name="create"></ion-icon>
    </ion-button>
  </form>

  <ion-list *ngIf="!isTasksEmpty; else emptyList">
    <ion-item *ngFor="let task of tasks">
      <ion-label>
        <h2>{{ task.title }}</h2>
        <p>{{ task.description }}</p>
      </ion-label>
    </ion-item>
  </ion-list>

  <ng-template #emptyList>
    <ion-item>
      <ion-label>
        The Array is empty
      </ion-label>
    </ion-item>
  </ng-template>
</ion-content>
